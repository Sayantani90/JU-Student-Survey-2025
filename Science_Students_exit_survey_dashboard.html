<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JU Science Exit Survey Analysis</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #f5f7fa;
  padding: 20px;
  color: #333;
}
.container {
  max-width: 1400px;
  margin: 0 auto;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  overflow: hidden;
}
.header {
  background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
  color: white;
  padding: 40px;
  border-bottom: 4px solid #1e3a8a;
}
.header h1 {
  font-size: 2.2em;
  margin-bottom: 8px;
  font-weight: 600;
}
.header p {
  font-size: 1.1em;
  opacity: 0.95;
  font-weight: 300;
}
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  background: #f8fafc;
  border-bottom: 1px solid #e2e8f0;
}
.stat-card {
  background: white;
  padding: 30px;
  text-align: center;
  border-right: 1px solid #e2e8f0;
  border-bottom: 1px solid #e2e8f0;
}
.stat-number {
  font-size: 2.5em;
  font-weight: 700;
  color: #1e40af;
  margin-bottom: 8px;
}
.stat-label {
  color: #64748b;
  font-size: 0.9em;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 500;
}
.content { padding: 40px; }
.section { margin-bottom: 50px; }
.section-title {
  font-size: 1.6em;
  color: #1e293b;
  margin-bottom: 25px;
  padding-bottom: 12px;
  border-bottom: 2px solid #e2e8f0;
  font-weight: 600;
}
.chart-container {
  background: #fafbfc;
  padding: 25px;
  border-radius: 6px;
  border: 1px solid #e2e8f0;
  margin-bottom: 25px;
}
.chart-wrapper {
  position: relative;
  height: 400px;
  background: white;
  padding: 15px;
  border-radius: 4px;
}
.table-container {
            overflow-x: auto;
            background: white;
            border-radius: 6px;
            border: 1px solid #e2e8f0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: #f1f5f9;
            color: #1e293b;
            padding: 16px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #e2e8f0;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        td {
            padding: 14px 16px;
            border-bottom: 1px solid #f1f5f9;
            font-size: 0.95em;
        }
        
        tr:hover {
            background: #f8fafc;
        }
        
.grid-2 {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
  gap: 25px;
}
.summary-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-bottom: 40px;
}
.summary-card {
  background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
  color: white;
  padding: 20px;
  border-radius: 8px;
  text-align: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}
.summary-value { font-size: 2em; font-weight: 700; margin-top: 8px; }

/* --- Rating Stars --- */
.rating-box {
  margin-top: 20px;
  background: #f9fafb;
  border-radius: 10px;
  padding: 15px 25px;
  display: inline-block;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  text-align: center;
}
.rating-box h4 {
  font-weight: 600;
  margin-bottom: 10px;
}

.rating-scale {
  display: flex;
  justify-content: space-between;
  max-width: 200px;
  margin: 10px auto 0;
  color: #374151;
  font-size: 0.9em;
}
footer {
		  text-align: center;
		  font-size: 1em;
		  color: #64748b;
		  margin-top: 30px;
		  margin-bottom: 30px;
		  padding-top: 20px;
		  border-top: 1px solid #e2e8f0;
		}
		.rating-scale-note {
		  background-color: #f9fafb;
		  border-left: 4px solid #2563eb; /* blue accent */
		  padding: 12px 16px;
		  margin-bottom: 20px;
		  border-radius: 8px;
		  font-family: "Segoe UI", Tahoma, sans-serif;
		  max-width: 600px;
		  box-shadow: 0 1px 3px rgba(0,0,0,0.08);
		}

		.rating-scale-note p {
		  margin: 0 0 6px;
		  font-weight: 300;
		  color: #1f2937;
		}

		.rating-scale-note ul {
		  list-style-type: none;
		  padding-left: 0;
		  margin: 0;
		  display: flex;
		  flex-wrap: wrap;
		  gap: 10px 16px;
		}

		.rating-scale-note li {
		  color: #64748b;
		  font-size: 14px;
		}
			
@media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.6em;
            }
            
            .stat-number {
                font-size: 2em;
            }
						.chart-wrapper{
				height: auto !important;
				padding: 10px !important;
			}
			.rating-box {
				display:block;
				margin: 15px auto 0;
				width: 90%;
				box-sizing: border-box;
				
			}
			.rating-box h4{
				font-size: 1em;
			}
        }
</style>
</head>

<body>
<div class="container">
  <div class="header">
    <h1>ðŸ“Š JU Student Exit Survey Analysis</h1>
    <p>Science Faculty - Comprehensive Feedback Report</p>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-number">425</div>
      <div class="stat-label">Total Responses</div>
    </div>
    <div class="stat-card">
      <div class="stat-number">7</div>
      <div class="stat-label">Departments</div>
    </div>
  </div>

  <div class="content">
	<div class="section">
                <h2 class="section-title">Department Participation</h2>
                <div class="table-container">
                    <table id="deptTable">
                        <thead>
                            <tr>
                                <th>Rank</th>
                                <th>Department</th>
                                <th>Responses</th>
                                <th>% of Total</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
	            <div class="section">
                <h2 class="section-title">Top Contributing Departments</h2>
                <div class="chart-container">
                    <div class="chart-wrapper">
                        <canvas id="topDeptChart"></canvas>
                    </div>
                </div>
            </div>		
    <div class="section">
      <h2 class="section-title">Educational Feedback Analysis</h2>
      			  <!-- Rating Scale Note -->
				<div class="rating-scale-note">
				  <p>Note: Ratings are based on a 5-point scale:</p>
				  <ul>
					<li><span>1 â€“ Unsatisfactory</span></li>
					<li><span>2 â€“ Average</span></li>
					<li><span>3 â€“ Good</span></li>
					<li><span>4 â€“ Very Good</span></li>
					<li><span>5 â€“ Excellent</span></li>
				  </ul>
				</div>
	  

      <div class="grid-2">

        <!-- Curriculum -->
        <div class="chart-container">
          <h3 style="margin-bottom:20px;color:#667eea;">Curriculum & Syllabus</h3>
          <div class="chart-wrapper" style="height:400px;">
            <canvas id="curriculumChart"></canvas>
            <div class="rating-box">
              <h4>Average rating : <span id="curriculumAvgText"></span></h4>
              <div class="stars" id="curriculumStars">
                <span class="star"></span><span class="star"></span><span class="star"></span><span class="star"></span><span class="star"></span>
              </div>
              
            </div>
          </div>
        </div>

        <!-- Learning -->
        <div class="chart-container">
          <h3 style="margin-bottom:20px;color:#667eea;">Learning Environment</h3>
          <div class="chart-wrapper" style="height:400px;">
            <canvas id="learningChart"></canvas>
            <div class="rating-box">
              <h4>Average rating : <span id="learningAvgText"></span></h4>
              <div class="stars" id="learningStars">
                
              </div>
             
            </div>
          </div>
        </div>

        <!-- Library -->
        <div class="chart-container">
          <h3 style="margin-bottom:20px;color:#667eea;">Library Infrastructure</h3>
          <div class="chart-wrapper" style="height:400px;">
            <canvas id="libraryChart"></canvas>
            <div class="rating-box">
              <h4>Average rating : <span id="libraryAvgText"></span></h4>
              <div class="stars" id="libraryStars">
                
              </div>
              
            </div>
          </div>
        </div>

        <!-- Lab -->
        <div class="chart-container">
          <h3 style="margin-bottom:20px;color:#667eea;">Laboratory Infrastructure</h3>
          <div class="chart-wrapper" style="height:400px;">
            <canvas id="labChart"></canvas>
            <div class="rating-box">
              <h4>Average rating : <span id="labAvgText"></span></h4>
              <div class="stars" id="labStars">
               
              </div>
              
            </div>
          </div>
        </div>

        <!-- Wi-Fi -->
        <div class="chart-container">
          <h3 style="margin-bottom:20px;color:#667eea;">Wi-Fi & Internet</h3>
          <div class="chart-wrapper" style="height:400px;">
            <canvas id="wifiChart"></canvas>
            <div class="rating-box">
              <h4>Average rating : <span id="wifiAvgText"></span></h4>
              <div class="stars" id="wifiStars">
                
				
              </div>
              
			  
            </div>
          </div>
        </div>

        <!-- Career -->
        <div class="chart-container">
          <h3 style="margin-bottom:20px;color:#667eea;">Career Guidance</h3>
          <div class="chart-wrapper" style="height:400px;">
            <canvas id="careerChart"></canvas>
            <div class="rating-box">
              <h4>Average rating : <span id="careerAvgText"></span></h4>
              <div class="stars" id="careerStars">
                
              </div>
              
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
  <!-- Footer -->
		<footer>Â© IQAC, Jadavpur University | 2025</footer>
</div>

<script>
// === Ratings Data ===

const departments = [
		  { name: "Physics", responses: 137 },
		  { name: "Geology", responses: 113 },
		  { name: "Chemistry", responses: 87 },
		  { name: "Geography", responses: 39 },
		  { name: "Maths", responses: 31 },
		  { name: "Life Science and Biotechnology", responses: 17 },
		  { name: "Instrumentation Science", responses: 1 }
		];
        
        const total = 425;
        
        // Populate table
        const tbody = document.querySelector('#deptTable tbody');
        departments.forEach((dept, index) => {
            const row = tbody.insertRow();
            row.innerHTML = `
                <td><strong>${index + 1}</strong></td>
                <td>${dept.name}</td>
                <td><strong>${dept.responses}</strong></td>
                <td>${((dept.responses / total) * 100).toFixed(1)}%</td>
            `;
        });
        
        // Top departments chart
        const topDepts = departments.slice(0, 5);
        new Chart(document.getElementById('topDeptChart'), {
            type: 'bar',
            data: {
                labels: topDepts.map(d => d.name),
                datasets: [{
                    label: 'Number of Responses',
                    data: topDepts.map(d => d.responses),
                    backgroundColor: 'rgba(102, 126, 234, 0.8)',
                    borderColor: 'rgba(102, 126, 234, 1)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                plugins: {
                    legend: {display: false}
                },
                scales: {
                    x: {
                        beginAtZero: true
                    }
                }
            }
        });
        
const ratings = {
		  curriculum: [4,4,5,3,3,4,5,5,5,5,5,4,5,5,5,5,4,4,5,4,5,4,4,4,4,4,4,5,3,5,4,5,3,5,3,3,4,3,5,5,5,5,4,3,4,5,4,4,4,5,4,4,4,3,4,5,4,4,4,4,1,5,3,4,3,3,5,3,4,4,4,3,4,2,5,5,3,5,4,4,3,4,5,5,4,5,3,5,4,3,4,5,4,4,5,5,4,4,5,4,5,4,3,4,3,5,4,4,5,3,4,4,3,3,2,4,4,4,5,3,5,4,2,3,4,5,3,4,5,2,4,3,3,4,4,4,4,5,5,5,5,5,4,4,5,3,4,4,3,3,4,4,3,3,5,5,1,4,4,5,4,5,4,4,5,3,5,4,5,5,4,4,5,3,4,4,4,2,4,4,5,3,5,4,5,4,5,5,4,5,5,4,4,4,4,5,3,4,5,5,3,5,5,3,5,5,4,4,5,5,4,4,5,5,4,3,3,5,4,5,2,5,3,4,4,4,4,4,5,4,4,4,5,4,4,4,2,2,5,4,5,4,4,5,3,5,5,2,4,2,5,4,3,5,1,5,4,5,3,3,4,5,4,4,5,4,4,4,4,5,3,2,5,5,5,4,4,5,5,3,5,5,4,4,5,5,3,4,3,4,4,5,5,5,5,4,4,4,4,4,5,5,5,5,4,3,5,4,5,5,5,5,1,5,5,1,3,5,2,4,2,5,4,3,4,4,4,3,5,5,4,5,5,2,5,5,4,4,5,5,4,1,5,2,3,4,4,5,5,5,4,5,4,5,3,5,3,2,5,5,5,3,3,4,3,4,5,5,2,4,3,3,5,5,4,4,5,4,3,5,3,5,4,5,4,4,5,5,4,4,4,4,3,5,5,4,3,5,3,5,4,4,5,4,5,5,4,4,4,3,4,5,5,5,2,4,3,4,2,4,5,5,5,4,5],
		  learning: [4,4,4,3,4,5,5,5,5,3,4,4,3,3,4,4,3,4,4,4,4,4,2,4,5,4,4,5,1,5,3,4,3,5,3,2,2,3,5,5,5,3,4,3,4,5,4,4,4,3,3,4,5,3,4,5,4,4,4,5,2,4,3,3,3,3,5,5,4,4,5,4,4,2,5,5,4,5,3,4,4,4,5,5,4,5,3,5,4,5,5,3,5,5,4,5,4,5,5,3,5,4,3,4,3,3,4,3,5,4,4,4,2,3,2,4,3,4,3,4,5,4,1,2,4,5,4,3,3,2,3,3,3,4,4,3,4,5,5,4,4,5,4,3,5,3,4,5,4,2,4,4,3,2,5,4,1,3,4,5,4,4,4,4,5,3,5,5,5,5,4,4,4,2,3,5,4,1,5,4,5,4,5,4,5,4,5,4,5,4,5,3,4,5,3,5,2,4,5,5,3,5,5,3,5,4,4,3,5,5,4,4,5,3,4,3,3,3,3,5,2,5,3,4,4,5,5,4,5,4,4,4,5,3,4,5,2,1,5,4,5,4,3,2,3,4,5,2,5,3,5,4,3,1,1,4,4,5,4,3,4,5,3,3,5,4,3,5,4,4,4,3,5,5,4,3,4,5,4,3,4,5,4,4,5,3,3,4,5,5,4,3,5,5,4,4,2,4,5,4,5,5,5,5,3,4,5,4,5,4,5,5,1,5,5,1,4,5,1,4,2,5,2,3,4,4,5,4,5,5,4,4,5,2,5,5,5,5,5,4,4,4,3,1,3,4,4,5,4,5,4,5,4,5,2,5,3,2,4,5,5,3,1,4,2,4,5,5,3,5,4,2,5,5,4,4,5,5,4,5,3,4,4,4,3,4,5,5,5,4,4,4,4,5,5,4,3,4,4,5,4,4,5,4,5,5,4,4,4,2,5,5,5,5,2,4,4,5,4,4,4,3,4,4,5],
		  library: [3,2,3,3,3,4,3,3,3,2,3,4,1,2,4,4,3,2,3,5,4,3,4,3,5,3,4,5,1,4,4,5,3,2,2,2,1,3,4,5,5,5,4,3,4,5,5,3,4,4,3,4,5,4,4,5,4,5,4,4,2,5,3,5,3,3,5,5,4,4,5,4,4,4,5,5,3,5,5,3,2,4,5,5,4,5,3,5,4,4,5,5,5,5,5,5,4,4,4,3,5,4,3,5,3,1,5,1,5,4,5,5,4,3,3,3,4,5,4,5,5,4,4,4,4,5,5,5,4,4,3,4,3,3,3,2,5,5,5,4,5,5,4,5,5,4,5,4,1,4,4,5,4,4,5,5,3,5,3,5,5,4,4,5,5,2,5,4,5,5,5,4,5,3,5,5,4,3,5,5,5,3,5,5,4,5,4,4,5,4,4,5,5,4,5,5,2,4,5,5,3,5,5,3,5,4,3,5,4,5,4,4,5,3,5,3,3,5,4,5,3,5,3,5,4,5,4,4,5,4,3,4,4,5,4,5,3,2,5,5,5,4,4,5,2,3,4,2,5,5,5,4,2,4,3,5,5,5,5,5,5,5,4,3,5,4,5,5,3,3,5,5,5,5,3,3,5,3,3,5,4,5,4,5,4,3,3,4,3,5,4,4,5,5,5,4,5,5,5,5,4,5,5,5,4,4,5,5,5,5,5,5,2,5,3,3,5,5,5,4,4,5,3,4,4,4,4,5,5,5,5,4,4,3,4,5,5,4,5,5,4,5,4,2,3,4,4,2,3,5,4,4,3,5,5,5,4,3,5,5,5,3,2,3,4,4,4,4,4,5,4,3,4,5,4,5,5,4,5,5,3,4,4,4,5,5,5,5,5,4,4,5,5,4,5,5,3,4,3,5,4,4,5,5,5,5,5,3,4,2,5,5,5,5,3,3,5,4,4,4,4,4,4,4,5],
		  lab: [4,3,4,3,3,3,4,4,3,3,3,5,3,5,4,2,3,4,4,4,3,4,3,5,4,4,5,2,4,4,3,3,3,3,3,3,5,5,5,3,3,3,3,5,3,3,4,2,4,5,5,3,4,3,4,3,3,5,3,3,3,5,3,3,5,5,4,4,5,5,4,3,5,5,3,3,4,4,3,4,4,5,4,5,4,4,4,5,4,2,4,4,3,5,3,4,4,3,5,2,3,5,3,2,3,2,5,4,4,3,2,3,3,2,5,4,3,4,4,3,3,2,5,5,3,2,3,1,4,3,3,3,2,3,4,5,4,5,4,3,4,5,3,3,4,4,2,3,4,2,1,5,4,1,5,5,5,3,3,3,4,5,3,5,3,4,5,4,4,3,3,5,4,3,1,5,4,4,4,5,4,5,3,4,3,5,4,4,5,3,5,4,5,1,4,4,5,2,5,5,4,5,4,4,5,5,4,4,5,3,5,3,3,5,2,5,1,5,3,5,3,4,5,5,4,4,3,4,3,4,4,1,2,4,4,5,3,3,1,2,2,4,1,5,3,4,4,2,5,3,5,2,2,5,4,2,5,4,3,3,4,5,3,5,5,3,3,4,5,4,3,4,5,4,3,3,3,4,3,4,4,3,3,5,5,3,3,4,4,4,5,5,5,5,4,4,4,5,5,2,4,5,5,2,2,3,4,4,5,5,4,4,5,1,4,4,5,3,5,3,3,4,3,1,2,3,3,3,3,5,4,3,3,5,2,5,3,4,5,5,2,2,3,4,4,4,3,1,5,4,3,3,5,4,3,4,4,5,3,4,4,3,5,3,4,5,4,4,4,5,4,5,4,3,4,3,5,4,4,5,5,5,5,3,4,4,3,4,5,5,5,2,3,2,3,3,3,4,4,4,3,5],
		  wifi: [4,4,4,4,3,5,3,4,4,4,3,4,4,4,5,3,2,4,2,3,3,2,2,3,5,3,5,5,3,5,3,5,2,4,3,3,2,2,5,5,5,2,4,3,3,5,5,3,4,4,3,3,5,4,3,5,4,2,4,5,2,5,2,4,5,3,3,4,3,5,5,5,3,4,5,5,1,4,3,4,2,4,4,4,4,4,3,5,4,4,3,4,5,3,4,5,3,4,4,4,5,4,3,5,2,3,4,3,3,4,3,2,3,3,2,3,3,5,2,3,5,5,3,4,3,5,5,4,4,4,5,4,2,5,4,4,2,3,5,3,4,4,3,5,4,2,3,3,5,3,3,4,5,3,5,4,2,1,5,5,4,2,3,4,5,4,4,3,5,5,3,4,5,3,2,5,3,2,5,3,4,3,5,4,4,5,3,4,5,3,3,5,4,5,5,5,2,3,5,5,2,5,5,2,5,4,3,2,4,5,4,4,5,4,3,3,3,5,4,5,3,5,4,5,3,5,3,4,5,4,4,3,4,3,4,5,5,1,4,4,5,2,4,4,3,3,4,2,5,5,4,4,4,1,4,5,5,5,3,2,3,5,4,3,5,4,5,4,2,5,4,4,5,5,3,3,5,1,5,4,5,5,4,4,4,1,4,4,4,5,4,5,5,5,5,4,3,5,5,5,4,5,5,5,5,4,5,3,5,4,5,4,2,5,1,3,5,5,5,4,2,5,2,4,3,4,3,3,5,5,4,3,4,3,5,5,5,2,5,3,3,5,1,1,3,5,1,4,4,5,3,5,3,2,2,5,5,3,5,5,5,1,1,4,4,4,3,3,2,4,4,4,3,5,4,3,5,4,4,5,2,3,3,5,4,4,4,4,4,4,2,3,5,3,5,3,1,3,2,5,4,4,5,5,5,5,5,3,4,2,3,5,5,5,3,2,1,3,5,3,5,2,4,2,5],
		  career: [4,4,5,2,3,3,5,5,5,4,4,4,5,3,4,3,2,3,3,5,5,4,2,4,5,5,5,5,1,5,3,4,3,3,3,1,1,2,5,5,5,2,3,3,4,5,3,2,4,1,3,4,4,3,4,5,4,4,4,5,1,5,3,4,2,3,5,3,3,3,3,4,4,3,5,5,3,4,4,3,4,4,5,5,4,5,2,2,4,3,5,2,5,5,3,5,3,4,5,4,5,5,3,3,3,2,3,3,5,3,4,3,1,3,3,4,4,5,3,3,5,5,1,2,3,5,5,3,4,1,2,3,4,4,4,4,2,4,5,3,5,5,4,3,5,3,3,4,2,4,3,4,1,3,5,4,1,3,5,5,4,4,4,4,5,3,5,4,4,5,3,3,4,3,1,3,4,1,5,4,5,2,4,3,4,4,5,3,5,4,5,3,4,5,3,5,1,5,4,5,2,5,5,2,5,4,3,4,2,4,4,4,5,3,5,2,3,2,3,5,5,5,3,3,4,5,5,4,5,4,3,4,4,1,4,4,3,1,5,4,5,4,4,3,3,4,4,1,4,2,5,3,1,1,1,3,3,5,1,1,5,5,2,2,5,4,5,3,2,3,3,2,5,5,4,3,4,4,5,3,4,5,4,4,5,2,3,3,2,5,4,5,5,5,4,4,2,4,5,4,4,5,5,5,3,4,5,4,5,4,4,5,1,5,5,1,4,5,1,2,1,5,1,1,4,3,3,4,5,5,4,3,5,1,4,3,5,4,5,3,3,1,4,2,2,5,1,5,4,5,3,5,3,5,3,5,2,1,2,5,5,3,2,4,2,5,5,5,4,3,2,4,3,4,4,4,5,5,4,5,1,5,3,4,3,3,5,3,5,4,2,5,3,5,5,4,2,4,1,5,4,4,5,3,5,5,4,4,4,2,5,5,5,5,2,4,2,3,4,3,4,3,3,4,5]
        
    };

// === Compute Average ===
function mean(arr) { return (arr.reduce((a,b)=>a+b,0)/arr.length).toFixed(2); }
const avgRatings = Object.fromEntries(Object.entries(ratings).map(([k,v]) => [k, mean(v)]));

// === Summary Cards ===
const summary = document.getElementById("avgSummary");
if (summary) {
  Object.entries(avgRatings).forEach(([key, value]) => {
    const titles = {
      curriculum: "Curriculum & Syllabus",
      learning: "Learning Environment",
      library: "Library Infrastructure",
      lab: "Laboratory Infrastructure",
      wifi: "Wi-Fi Facility",
      career: "Career Guidance"
    };
    const card = document.createElement("div");
    card.className = "summary-card";
    card.innerHTML = `
      <h3>${titles[key]}</h3>
      <div class="summary-value">${value}</div>
    `;
    summary.appendChild(card);
  });
}

// === Chart Creator ===
function createBarChart(canvasId, dataArr){
  const counts=[1,2,3,4,5].map(r=>dataArr.filter(v=>v===r).length);
  const total=dataArr.length;
  new Chart(document.getElementById(canvasId),{
    type:'bar',
    data:{
      labels:['1','2','3','4','5'],
      datasets:[{data:counts,backgroundColor:'#f59e0b',borderRadius:6}]
    },
    options:{
      responsive:true,
      plugins:{
        legend:{display:false},
        tooltip:{callbacks:{label:(ctx)=>{
          const count=ctx.raw;const pct=((count/total)*100).toFixed(1);
          return `${count} responses (${pct}%)`;
        }}}
      },
      scales:{y:{beginAtZero:true,title:{display:true,text:'Responses'}}}
    }
  });
}

// === Star Renderer ===
function renderStars(sectionId, avgValue){
  const avg=parseFloat(avgValue);
  document.getElementById(`${sectionId}AvgText`).textContent=avg.toFixed(2);
  
}

// === Create Charts and Stars ===
createBarChart("curriculumChart",ratings.curriculum);
createBarChart("learningChart",ratings.learning);
createBarChart("libraryChart",ratings.library);
createBarChart("labChart",ratings.lab);
createBarChart("wifiChart",ratings.wifi);
createBarChart("careerChart",ratings.career);

renderStars("curriculum",avgRatings.curriculum);
renderStars("learning",avgRatings.learning);
renderStars("library",avgRatings.library);
renderStars("lab",avgRatings.lab);
renderStars("wifi",avgRatings.wifi);
renderStars("career",avgRatings.career);
</script>
</body>
</html>
